<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Gen Con Schedule Exporter</title>
    <link rel="stylesheet" href="pico.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header class="container" >
        <h2>Gen Con Schedule Exporter</h2>
        <small>Simple tool to help you grab your gencon schedule as JSON data (loads it in a tab), which you can paste back into this tool for export as an iCal (.ics) file for your convenience.
        <br>
        Follow the steps below to safely access your schedule data.
        </header>
        <main class="container"  >

        <div id="step1">
        <div>
                <label for="schedule-url"><strong>Copy the URL of your schedule page and paste it here, then click "Get schedule data" below..</strong></label>
                <small>(looks like this: <code>www.gencon.com/schedules/123456?c=indy2025</code>)</small>
        <br>
        <small>Make sure you're logged into Gen Con website so that the JSON data for your schedule can load in a new tab.</small>
        <input type="text" id="schedule-url"></input>
	<br>
        </div>
        <div>
		<div><small><strong>Copy all the text that displays in the new tab and return to this page.</strong></small></div>
            <button onclick="setMessage('');getSched();">Get schedule data</button>
        </div>
        </div>

        <div id="step2" class="hidden">
            <div>
                <label for="txt"><strong>Paste schedule JSON content here</strong></label>
                <textarea id="txt"></textarea>
            </div>
            <div>
                <button onclick="setMessage('');process();">Generate .ics</button>
            </div>


        </div>

        <div id="step3" class="hidden">
            <strong>Schedule generated.</strong>
            <br>
            <div id="dl-link"></div>
        </div>
        <div>
            <h4 id="msg"></h2></div>
        </main>
        <footer class="container"  >
        <div>
                <small>Your data is safe - this page works completely in your local browser, no information is transferred to the host of this page or stored on any server.</small>
		<small>Caveat: this page is created as a convenience / toy. No guarantees are made on accuracy or behavior. Check your schedules for accuracy. <a href="https://github.com/jsbohnert/gencon_schedule_ical">Pull requests welcome.</a></small>
                <br>
                <small>Projects used in this tool: ical.js, Pico CSS</small>
        </div>
        </footer>

  <script src="https://unpkg.com/ical.js/dist/ical.es5.min.cjs"></script>
  <script src="script.js"></script>
</body>
</html>
